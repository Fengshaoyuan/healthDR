<!-- 表单组件 -->
<form class="questionare">
  <!-- 基础信息 -->
  <view class="baseMsg">
    <view class="desc">今日日期\t Date</view>
    <text>{{message.date}}</text>
  </view>
  <view class="baseMsg">
    <view class="desc">姓名\t Name</view>
    <text>{{message.realName}}</text>
  </view>
  <view class="baseMsg">
    <view class="desc">学工号\t Student/Staff\t ID\t No.</view>
    <text>{{message.studentID}}</text>
  </view>

  <!-- 问卷主体 -->
  <view class="questionContainer">
    <!-- 问题列表渲染 -->
    <block wx:for="{{questionnaire}}" wx:key="id" wx:for-item="question">
      <!-- 使用hidden隐藏不可见的问题，不会降低页面的渲染性能 -->
      <view class="questionMsg" hidden="{{!question.visible}}">
        <view class="desc">{{question.desc}}</view>
        <!-- 问题选项列表渲染 -->
        <view class="option" wx:if="{{question.type==1}}">
          <radio-group name="{{question.name}}" class="radio-group" bindchange="radioChange" >
            <lable class="optionItem" wx:for="{{question.option}}" wx:key="*this" wx:for-item="option"> 
              <!-- 使用value传值（问题的name和选项的id） -->
              <radio class="radio" value="{{[question.name,index]}}" />
              <text class="value">{{option}}</text>
            </lable>
          </radio-group>
        </view>

        <!-- 不同类型的问题采用不同的渲染方式 -->
        <view class="inputs" wx:elif="{{question.type==2}}">
          <input readonly type="text" placeholder="在此输入信息"/>
        </view>

        <view class="inputs" wx:elif="{{question.type==3}}">
          <text>点击获取地理位置(Click to get your location)</text>
        </view>
        
      </view>
    </block>
  </view>

</form>

<button class="confirm" type="submit" disabled="{{!canSubmit}}">提交信息\t Submit information</button> 